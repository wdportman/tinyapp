<!-- The below template displays all short and long URL pairs.-->

<!DOCTYPE html>
<html lang="en">

<head><%- include('./partials/_head.ejs'); %></head>

<body>
  <header><%- include('./partials/_header.ejs'); %></header>
  <main style="margin: 1em;">
    <% if(!user){ %>
      <p>You are not logged in. Please <a href="/login">log in</a> or <a href="/register">sign up</a>!</p>
        <% } %>
    <% if(user){ %>
    <h3>My URLs</h3>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Short URL</th>
          <th scope="col">Long URL</th>
          <th scope="col">Edit</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        <% for(let url in urls) { %>
        <tr>
          <td><%= url %></td>
          <td><%= urls[url]["longURL"] %></td>
          <td>
            <form method="GET" action="/urls/<%= url %>">
              <button type="submit">Edit</button>
            </form>
          </td>
          <td>
            <form method="POST" action="/urls/<%= url %>/delete">
              <button type="submit">Delete</button>
            </form>
          </td>
        </tr>
        <% } %>
      </tbody>
    </table>
    <a href="/urls/new">Create a New Short Link</a>
    <% } %>
  </main>
  <footer><%- include('./partials/_footer.ejs'); %></footer>
</body>

</html>